# JSF学習ガイド - 理解を深めるための実践練習

## 📋 理解度チェックリスト

以下の質問に自分で答えられるか確認してください。答えられない場合は、その部分を重点的に学習しましょう。

### 基礎編

1. **@Namedアノテーションの役割は？**
   - なぜ`@Named`が必要なのか？
   - `@Named`がないとどうなるか？

2. **@RequestScopedの意味は？**
   - リクエストごとに新しいインスタンスが作られる理由は？
   - 他のスコープ（@SessionScoped、@ApplicationScoped）との違いは？

3. **EL式（Expression Language）の動作**
   - `#{lifecycleBean.userForm.userName}` はどのように動作するか？
   - `.`（ドット）でつなぐと何が起こるか？

4. **JSFライフサイクルの6つのフェーズ**
   - 各フェーズで何が起こるか、自分の言葉で説明できるか？
   - バリデーションエラーが発生したら、どのフェーズで止まるか？

5. **h:inputTextとh:commandButtonの違い**
   - それぞれがHTMLの何に変換されるか？
   - `value`属性と`action`属性の違いは？

### 応用編

6. **バリデーションの仕組み**
   - `required="true"`はどこでチェックされるか？
   - カスタムバリデーションはどう作るか？

7. **FacesContextの役割**
   - `FacesContext.getCurrentInstance()`はなぜ必要か？
   - メッセージを追加する方法は？

8. **ナビゲーション**
   - `submit()`メソッドが`null`を返すとどうなるか？
   - 別のページに遷移するにはどうすればいいか？

---

## 🎯 段階的練習課題

### レベル1: 小さな機能追加（理解の確認）

#### 課題1-1: 電話番号フィールドの追加
**目標**: 既存のコードを理解して、同じパターンで機能を追加できるか確認

1. `UserFormDTO`に`phoneNumber`フィールドを追加
2. `lifecycle.xhtml`に電話番号の入力フィールドを追加
3. バリデーション: 10桁または11桁の数字のみ許可
4. 結果表示に電話番号を含める

**チェックポイント**:
- Getter/Setterを正しく追加できたか？
- EL式の書き方が正しいか？
- バリデーションロジックを理解して書けたか？

#### 課題1-2: 性別選択の追加
1. `UserFormDTO`に`gender`フィールド（String型）を追加
2. `h:selectOneRadio`または`h:selectOneMenu`で「男性」「女性」「その他」を選択できるようにする
3. 結果表示に性別を含める

**チェックポイント**:
- JSFの選択コンポーネントの使い方を理解できたか？

### レベル2: ロジックの理解（自分で考えて実装）

#### 課題2-1: 年齢によるメッセージ変更
`submit()`メソッドで、年齢に応じて異なるメッセージを表示する：
- 18歳未満: "未成年の方へ"
- 18歳以上65歳未満: "働き盛りの方へ"
- 65歳以上: "シニアの方へ"

**チェックポイント**:
- ビジネスロジックを自分で書けるか？
- 条件分岐を正しく実装できるか？

#### 課題2-2: エラーメッセージの改善
現在のバリデーションメッセージを、より分かりやすく改善する。
例: "年齢は0から150の間で入力してください" → "年齢は0歳から150歳の間で入力してください"

**チェックポイント**:
- エラーメッセージの表示方法を理解しているか？

### レベル3: 新機能の実装（応用力）

#### 課題3-1: ユーザーリストの表示
送信されたユーザー情報をリストとして保持し、表示する機能を追加：
1. `LifecycleBean`に`List<UserFormDTO>`を追加
2. 送信成功時にリストに追加
3. `h:dataTable`でリストを表示

**チェックポイント**:
- コレクションの扱い方を理解しているか？
- `h:dataTable`の使い方を理解しているか？

#### 課題3-2: 削除機能の追加
課題3-1のリストに、各項目を削除するボタンを追加する。

**チェックポイント**:
- アクションメソッドにパラメータを渡す方法を理解しているか？
- `f:param`の使い方を理解しているか？

### レベル4: 完全に自分で作る（実力確認）

#### 課題4-1: シンプルなTODOアプリ
以下の機能を持つTODOアプリを作成：
- TODO項目の追加（タイトル、説明、期限）
- TODOリストの表示
- 完了/未完了の切り替え
- 削除機能

**チェックポイント**:
- 最初から最後まで、AIに頼らずに作れるか？
- エラーが出た時に、自分で解決できるか？

---

## 📚 学習の進め方

### ステップ1: コードを声に出して説明する
既存のコードを、1行ずつ声に出して説明してみてください。
「この行は何をしているか？」「なぜこれが必要か？」を自分に問いかけます。

### ステップ2: 小さな変更を加える
まずは既存のコードを少しだけ変更してみます：
- メッセージの文言を変える
- 色やスタイルを変える
- フィールドの順番を変える

### ステップ3: エラーを意図的に起こす
エラーを起こして、どう対処するか学びます：
- `@Named`を削除してどうなるか見る
- EL式を間違えて書いてみる
- Getter/Setterを削除してみる

### ステップ4: ドキュメントを読む
公式ドキュメントやチュートリアルを読んで、概念を理解します：
- JSF公式ドキュメント
- CDIの仕様
- EL式のリファレンス

### ステップ5: 練習課題に挑戦
上記の課題を順番に取り組みます。分からない時は：
1. まず自分で考えてみる（30分）
2. エラーメッセージを読む
3. 公式ドキュメントを調べる
4. それでも分からなければ、AIに「なぜこのエラーが出るのか」を聞く

---

## ✅ 理解度の確認方法

以下のことができるようになれば、理解が深まった証拠です：

1. **コードを読んで、何をしているか説明できる**
   - 他人に説明できるレベル

2. **エラーが出た時に、原因を推測できる**
   - エラーメッセージから問題箇所を特定できる

3. **小さな機能追加を、AIに頼らずにできる**
   - 既存のパターンを真似して実装できる

4. **「なぜそう書くのか」を説明できる**
   - 単に動くだけでなく、理由を理解している

---

## 🎓 次のステップ

このガイドの課題を全て完了したら：

1. **より複雑なアプリを作る**
   - データベース連携
   - セッション管理
   - セキュリティ

2. **他のフレームワークと比較する**
   - Spring MVC
   - Vaadin
   - 違いを理解する

3. **ベストプラクティスを学ぶ**
   - コードの整理方法
   - テストの書き方
   - パフォーマンス最適化

---

## 💡 よくある質問

**Q: AIに頼らずに作れないと、プログラマーとして失格ですか？**
A: いいえ。AIは「調べ物をする時間を短縮するツール」です。重要なのは：
- AIの回答を理解できるか
- なぜそのコードが動くのか説明できるか
- エラーを解決できるか

**Q: どのくらいの時間がかかりますか？**
A: 個人差がありますが、毎日1-2時間の学習で：
- レベル1-2: 1-2週間
- レベル3: 2-4週間
- レベル4: 1-2ヶ月

**Q: 分からない時はどうすればいいですか？**
A: 
1. まず自分で考える（重要！）
2. エラーメッセージを読む
3. 公式ドキュメントを調べる
4. AIに「なぜ」を聞く（「どうすれば」ではなく）

---

頑張ってください！理解は時間をかけて深まっていくものです。焦らず、一つずつ確実に進めましょう。

